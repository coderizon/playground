<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Transfer Learning - TensorFlow.js</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Import the webpage's stylesheet -->
    <link rel="stylesheet" href="/style.css">
  </head>  
  <body data-step="collect">
    <header class="topbar">
      <button class="icon-button" aria-label="Menü öffnen">
        <span class="icon-lines"></span>
      </button>
      <div class="brand">
        <span class="brand-title">Teachable Machine</span>
        <span class="brand-subtitle">Bildklassifikation</span>
      </div>
      <div class="mode-picker">
        <span id="modeLabel" class="mode-label">Bildklassifikation</span>
        <div id="modeMenu" class="mode-menu hidden" role="menu" aria-label="Modus wählen">
          <button data-mode="image" role="menuitem">Bildklassifikation</button>
          <button data-mode="gesture" role="menuitem">Gesture Recognition</button>
        </div>
      </div>
    </header>

    <div class="mobile-nav">
      <button class="mobile-step active" data-step-target="collect">1 Daten</button>
      <button class="mobile-step" data-step-target="train">2 Trainieren</button>
      <button class="mobile-step" data-step-target="preview">3 Testen</button>
    </div>

    <main class="layout">
      <section class="classes-column" data-step-section="collect">

        <div class="card class-card">
          <div class="card-header">
            <div class="title-group editable">
              <input class="class-name-input" data-class-index="0" value="Class 1" aria-label="Klassenname eingeben">
              
            </div>
            <span class="dots">⋮</span>
          </div>
          <div class="action-row">
            <button class="open-webcam ghost" data-class-index="0">Webcam</button>
          </div>
          <div class="webcam-panel" data-class-panel="0">
            <div class="panel-top">
              <span>Webcam</span>
              <div class="panel-actions">
                <button class="ghost switch-camera" data-switch-camera aria-label="Kamera wechseln">Außenkamera</button>
                <button class="icon-close" data-close-panel="0" aria-label="Panel schließen">×</button>
              </div>
            </div>
            <div class="count-row">
              <span class="count-chip" data-count-for="0">0 Bildbeispiele</span>
            </div>
            <div class="capture-slot" data-class-slot="0">
              <video id="captureCam" autoplay muted playsinline class="hidden"></video>
            </div>
            <button class="dataCollector primary block" data-1hot="0" data-name="Class 1">Zum Aufnehmen halten</button>
          </div>
        </div>

        <div class="card dashed muted" id="add-class" role="button" tabindex="0" aria-label="Klasse hinzufügen">
          <span class="add-placeholder">＋ Klasse hinzufügen</span>
        </div>
      </section>

      <section class="training-column" data-step-section="train">
        <div class="card training-card">
          <div class="card-header spaced">
            <h3>Training</h3>
            <button id="train" class="primary">Modell trainieren</button>
          </div>

          <details open class="accordion">
            <summary>Erweitert</summary>
            <div class="form-grid">
              <label>
                <span>Epochen</span>
                <input type="number" value="10" min="1" step="1" disabled>
              </label>
              <label>
                <span>Batchgröße</span>
                <input type="number" value="5" min="1" step="1" disabled>
              </label>
              <label>
                <span>Lernrate</span>
                <input type="number" value="0.001" min="0.0001" step="0.0001" disabled>
              </label>
            </div>
          </details>

          <div class="reset-row">
            <div class="helper">Auf Standardwerte zurücksetzen</div>
            <button id="reset" class="ghost">Zurücksetzen</button>
          </div>
        </div>
      </section>

      <section class="preview-column" data-step-section="preview">
        <div class="card preview-card">
          <div class="card-header">
            <h3>Vorschau</h3>
            <div class="card-actions">
              <button id="connectArduino" class="ghost">Arduino verbinden</button>
              <button class="ghost" disabled>Modell exportieren</button>
            </div>
          </div>
          <div class="preview-body">
            <div class="video-shell">
              <video id="previewCam" autoplay muted playsinline class="hidden"></video>
              <canvas id="gestureOverlay" class="overlay-canvas hidden"></canvas>
            </div>
            <div class="preview-output">
              <div class="preview-output-header">
                <span class="preview-output-title">Ausgabe</span>
                <span class="preview-output-hint">Wahrscheinlichkeiten pro Klasse</span>
              </div>
              <div id="probabilityList" class="probability-list"></div>
            </div>
            <p id="status" class="sr-only">Du musst links ein Modell trainieren, um es hier als Vorschau ansehen zu können.</p>
          </div>
        </div>
      </section>
    </main>

    <!-- Import TensorFlow.js library -->
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@3.11.0/dist/tf.min.js" type="text/javascript"></script>

    <!-- Import the page's JavaScript to do some stuff -->
    <script type="module" src="/script.js"></script>
  </body>
</html>
